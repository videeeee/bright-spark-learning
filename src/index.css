@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --radius: 2rem; /* Extra bubbly */
    --shadow-soft: 0 10px 40px -10px rgba(0, 0, 0, 0.1);
    --shadow-cute: 0 6px 0 var(--border-color, hsl(var(--border)));

    /* Theme: Cherry Red */
    --background: 0 100% 98%; --foreground: 0 50% 20%;
    --card: 0 100% 99%;
    --primary: 0 95% 68%; /* Red */
    --secondary: 50 100% 70%; /* Bright Yellow */
    --accent: 205 100% 75%; /* Baby Blue */
    --border-color: hsl(0 80% 85%);
    --streak-color: 15 100% 65%; --xp-color: 260 100% 75%; --level-color: 130 85% 65%;
    --gradient-bg: radial-gradient(circle, hsl(45 100% 90% / 0.5), hsl(0 100% 95% / 0.5));
    --gradient-card: linear-gradient(135deg, hsl(var(--primary) / 0.8), hsl(var(--secondary) / 0.8));
  }

  /* Theme: Pastel Dream (Pippa) */
  .theme-panda {
    --background: 250 100% 98%; --foreground: 250 30% 25%;
    --card: 250 80% 99%;
    --primary: 255 90% 78%; /* Soft Lilac */
    --secondary: 160 80% 80%; /* Minty Green */
    --accent: 20 100% 80%; /* Peachy Pink */
    --border-color: hsl(255 70% 88%);
    --streak-color: 330 90% 80%; --xp-color: 280 90% 80%; --level-color: 190 90% 80%;
    --gradient-bg: radial-gradient(circle, hsl(160 100% 92% / 0.5), hsl(255 100% 95% / 0.5));
    --gradient-card: linear-gradient(135deg, hsl(var(--primary) / 0.8), hsl(var(--secondary) / 0.8));
  }

  /* Theme: Warm & Friendly (Theo) */
  .theme-teddy {
    --background: 30 80% 97%; --foreground: 25 30% 20%; --card: 30 70% 98%;
    --primary: 28 100% 70%; --primary-foreground: 25 40% 15%;
    --secondary: 40 40% 85%; --secondary-foreground: 40 20% 25%;
    --accent: 35 45% 65%; --accent-foreground: 35 25% 15%;
    --border-color: hsl(30 40% 88%);
    --streak-color: 15 90% 65%; --xp-color: 50 95% 70%; --level-color: 120 50% 65%;
    --gradient-bg: radial-gradient(circle, hsl(40 80% 92% / 0.5), hsl(28 80% 95% / 0.5));
    --gradient-card: linear-gradient(135deg, hsl(var(--primary) / 0.8), hsl(var(--secondary) / 0.8));
  }
  
  /* Theme: Neon Pop (Fizzy) */
  .theme-fox {
    --background: 180 100% 97%; --foreground: 180 40% 20%;
    --card: 180 80% 98%;
    --primary: 175 100% 55%; /* Electric Cyan */
    --secondary: 80 100% 60%; /* Lime Green */
    --accent: 320 100% 65%; /* Bright Magenta */
    --border-color: hsl(175 70% 80%);
    --streak-color: 350 100% 75%; --xp-color: 210 100% 70%; --level-color: 50 100% 65%;
    --gradient-bg: radial-gradient(circle, hsl(80 100% 90% / 0.5), hsl(175 100% 95% / 0.5));
    --gradient-card: linear-gradient(135deg, hsl(var(--primary) / 0.8), hsl(var(--secondary) / 0.8));
  }

  /* Theme: Sweet Dreams (Lila) */
  .theme-lila {
    --background: 270 100% 99%; --foreground: 260 30% 30%;
    --card: 270 100% 99%;
    --primary: 260 90% 85%; /* Soft Lavender */
    --secondary: 170 80% 85%; /* Creamy Mint */
    --accent: 320 100% 90%; /* Gentle Pink */
    --border-color: hsl(260 70% 90%);
    --streak-color: 30 100% 85%; --xp-color: 200 90% 85%; --level-color: 340 90% 85%;
    --gradient-bg: radial-gradient(circle, hsl(170 100% 95% / 0.5), hsl(260 100% 97% / 0.5));
    --gradient-card: linear-gradient(135deg, hsl(var(--primary) / 0.8), hsl(var(--secondary) / 0.8));
  }

  /* Theme: Custom */
  .theme-custom {
    --background: 270 50% 98%; --foreground: 270 20% 20%; --card: 270 40% 99%;
    --primary: 280 90% 75%; --primary-foreground: 280 40% 15%;
    --secondary: 220 90% 70%; --secondary-foreground: 220 40% 10%;
    --accent: 240 30% 80%; --accent-foreground: 240 15% 20%;
    --border-color: hsl(270 25% 90%);
    --streak-color: 320 100% 75%; --xp-color: 180 100% 70%; --level-color: 260 90% 70%;
    --gradient-bg: radial-gradient(circle, hsl(220 100% 92% / 0.5), hsl(280 100% 95% / 0.5));
    --gradient-card: linear-gradient(135deg, hsl(var(--primary) / 0.8), hsl(var(--secondary) / 0.8));
  }
}

@layer components {
  .cartoon-card {
    @apply border-4 backdrop-blur-xl shadow-soft rounded-[var(--radius)] transition-all duration-300;
    border-color: var(--border-color);
    box-shadow: var(--shadow-cute), var(--shadow-soft);
    background: linear-gradient(160deg, hsl(var(--card) / 0.7), hsl(var(--card) / 0.9));
  }
  .cartoon-button {
    @apply transform transition-transform duration-200 hover:scale-110 active:scale-95 rounded-2xl font-bold border-4;
    border-color: var(--border-color);
    box-shadow: var(--shadow-cute);
  }
  .stat-card {
    @apply cartoon-card p-6 text-center flex flex-col items-center justify-center transform hover:-translate-y-3 transition-transform duration-300;
  }
  .speech-bubble {
    @apply relative bg-card border-4 rounded-xl shadow-soft;
    border-color: var(--border-color);
    box-shadow: var(--shadow-cute);
  }
  .speech-bubble::after {
    content: '';
    position: absolute;
    bottom: -18px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-top: 20px solid var(--border-color);
  }
}

@layer utilities {
  .float {
    animation: float 6s ease-in-out infinite;
  }
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  .text-shadow-cute {
    text-shadow: 2px 2px 0px var(--border-color);
  }
  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }
  @keyframes glow {
    0%, 100% {
      box-shadow: 0 0 10px 0px hsl(var(--primary) / 0.5);
    }
    50% {
      box-shadow: 0 0 25px 5px hsl(var(--primary) / 0.5);
    }
  }
}

body {
  @apply text-foreground antialiased;
  font-family: 'Nunito', sans-serif;
  background-image: var(--gradient-bg);
  background-attachment: fixed;
  transition: background 0.5s ease, color 0.5s ease;
}
